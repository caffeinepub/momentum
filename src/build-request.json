{
  "kind": "build_request",
  "title": "Add Start New Day popup with reset options",
  "projectName": "Momentum",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Remove the existing 'Reset New Day' button from the Header component",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Move the existing \"Reset New Day\" button from the header into a popup"
        ]
      },
      "acceptanceCriteria": [
        "The 'Reset New Day' button is no longer visible in the Header component",
        "The button's functionality is preserved for use in the popup"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Add a new 'Start New Day' button in the center of the Header component that opens a popup dialog",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Add a new \"Start New Day\" button in the center of the header that opens this popup"
        ]
      },
      "acceptanceCriteria": [
        "A 'Start New Day' button is visible in the center of the header",
        "Clicking the button opens a popup dialog with reset options"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Create a popup dialog with two reset buttons: 'Next Day Reset' (with the original reset functionality) and 'Skipped Day Reset'",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "Rename it to \"Next Day Reset\" inside the popup",
          "Inside the popup, create a second button called \"Skipped Day Reset\""
        ]
      },
      "acceptanceCriteria": [
        "The popup contains a 'Next Day Reset' button that performs the original reset functionality",
        "The popup contains a 'Skipped Day Reset' button",
        "Both buttons are clearly labeled and visually distinct"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Implement 'Skipped Day Reset' functionality in the backend that unchecks all routines AND resets all streak counts to 0",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "\"Skipped Day Reset\" that unchecks all routines AND resets all streak counts to 0"
        ]
      },
      "acceptanceCriteria": [
        "A new backend function unchecks all routine items for the authenticated user",
        "The function resets all streak counts to 0 for the authenticated user",
        "The function is callable from the frontend"
      ]
    },
    {
      "id": "REQ-5",
      "text": "Connect the 'Skipped Day Reset' button in the popup to the backend reset function and handle the response",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-20"
        ],
        "quotes": [
          "\"Skipped Day Reset\" that unchecks all routines AND resets all streak counts to 0"
        ]
      },
      "acceptanceCriteria": [
        "Clicking 'Skipped Day Reset' calls the backend reset function",
        "Success feedback is shown to the user",
        "The UI updates to reflect unchecked routines and reset streaks",
        "The popup closes after the action completes"
      ]
    }
  ],
  "constraints": [
    "Preserve the existing 'Reset New Day' functionality exactly as implemented",
    "Follow the existing dialog component patterns in frontend/src/components"
  ],
  "nonGoals": [
    "Modifying the existing reset logic beyond moving it to the popup",
    "Adding confirmation dialogs for either reset option",
    "Adding animations or transitions beyond standard dialog behavior"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}