{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "A routine tracking app with a manual daily reset system. Users can check/uncheck routines throughout the day to preview tomorrow's strike counts (frontend-only), then click a 'Reset New Day' button to commit progress. Checked routines increment their strike count by 1, unchecked routines reset to 0, and all checkboxes clear for the next day.",
  "architectural_notes": [
    "Manual daily reset system: check/uncheck is frontend-only preview, backend updates only on 'Reset New Day' button click",
    "Badge logic: dynamically shows strike count + 1 for checked routines, current count for unchecked",
    "Reset workflow: increments strikes for checked routines, resets unchecked routines to 0 strikes, clears all checkboxes"
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-add-a-reset-new-day-button-in-the-app-header-component-header-tsx-positioned-next-to-the-dark-mode-toggle-button",
      "title": "Add a 'Reset New Day' button in the app header component (Header.tsx) positioned next to the dark mode toggle button",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-modify-morningroutine-tsx-to-implement-frontend-only-check-uncheck-interaction-with-instant-visual-feedback-without-triggering-backend-saves-on-individual-check-uncheck-actions",
      "title": "Modify MorningRoutine.tsx to implement frontend-only check/uncheck interaction with instant visual feedback without triggering backend saves on individual check/uncheck actions",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-strike-count-badge-display-logic-in-morningroutine-tsx-to-show-strike-count-1-when-a-routine-is-checked-preview-of-tomorrow-s-count-and-the-current-strike-count-when-unchecked",
      "title": "Update the strike count badge display logic in MorningRoutine.tsx to show strike count + 1 when a routine is checked (preview of tomorrow's count) and the current strike count when unchecked",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-manual-reset-workflow-triggered-by-clicking-the-reset-new-day-button-save-all-currently-checked-routines-to-the-backend-incrementing-their-strike-counts-by-1-reset-all-unchecked-routines-strike-counts-to-0-in-the-backend-and-clear-all-routine-checkboxes-back-to-unchecked-state-in-the-frontend",
      "title": "Implement the manual reset workflow triggered by clicking the 'Reset New Day' button: save all currently checked routines to the backend (incrementing their strike counts by 1), reset all unchecked routines' strike counts to 0 in the backend, and clear all routine checkboxes back to unchecked state in the frontend",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-react-query-mutation-hook-in-usequeries-ts-for-the-manual-daily-reset-operation-that-calls-the-new-backend-function-with-checked-routine-ids",
      "title": "Create a React Query mutation hook in useQueries.ts for the manual daily reset operation that calls the new backend function with checked routine IDs",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Add 'Reset New Day' button in app header next to dark mode toggle",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Implement frontend-only routine check/uncheck with instant visual feedback (no backend save)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Dynamic badge preview showing strike count + 1 when checked, current count when unchecked",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Manual reset workflow: Reset New Day button saves checked routines (increment strikes by 1), resets unchecked to 0, clears all checkboxes",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Add a backend function in main.mo to handle the manual daily reset, accepting an array of routine IDs that were checked, incrementing their strike counts by 1, and resetting strike counts to 0 for all other routines belonging to the user",
      "reqIds": [
        "REQ-5"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Momentum",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}